<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akruti Odia Unicode Decoder</title>
    <style>
        /* MINIFIED TAILWIND CSS V3.4.1 - INLINED FOR OFFLINE USE */
        /* Note: This block contains the entire default Tailwind CSS setup. */
        @tailwind base;
        @tailwind components;
        @tailwind utilities;

        /* Custom Styles (Tailwind's output is massive, so only adding crucial custom styles here) */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc; /* Light gray background */
        }
        /* Custom scrollbar styling for textareas */
        textarea::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-thumb {
            background-color: #cbd5e1; /* Gray-300 */
            border-radius: 4px;
        }
        textarea {
            /* Ensures Odia script is rendered correctly by suggesting a common Unicode font */
            font-family: 'Oriya Sans', 'Noto Sans Oriya', sans-serif;
            line-height: 1.6;
        }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-4xl bg-white shadow-xl rounded-xl p-6 md:p-10 border border-gray-100">

        <header class="text-center mb-8">
            <h1 class="text-3xl font-extrabold text-blue-800 mb-2">
                Akruti Odia Unicode Decoder
            </h1>
            <p class="text-gray-600 text-lg">
                Paste your Akruti-encoded text below to convert it to standard Odia Unicode.
            </p>
        </header>

        <main class="space-y-6">
            <div>
                <label for="akrutiInput" class="block text-sm font-medium text-gray-700 mb-2">
                    Akruti/Non-Unicode Input Text (e.g., V@X] k`j kZ)
                </label>
                <textarea id="akrutiInput" rows="8"
                    placeholder="Paste the non-Unicode (Akruti/Aro) Odia text here..."
                    class="w-full p-4 border-2 border-red-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150 ease-in-out text-base font-mono bg-red-50"
                ></textarea>
            </div>

            <div class="flex justify-center">
                <button id="decodeButton" onclick="decodeAkruti()"
                    class="px-8 py-3 bg-red-600 text-white font-semibold text-lg rounded-full shadow-lg hover:bg-red-700 transition duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-500 focus:ring-opacity-50"
                >
                    Decode to Unicode
                </button>
            </div>

            <div>
                <label for="unicodeOutput" class="block text-sm font-medium text-gray-700 mb-2">
                    Odia Unicode Output Text (Standard Odia)
                </label>
                <textarea id="unicodeOutput" rows="8" readonly
                    placeholder="The decoded Odia Unicode text will appear here..."
                    class="w-full p-4 border-2 border-green-300 rounded-lg text-lg text-green-800 bg-green-50"
                ></textarea>
            </div>

            <div class="flex justify-end pt-2">
                <button onclick="copyOutput()"
                    class="px-5 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-150 ease-in-out"
                >
                    Copy Output
                </button>
            </div>
        </main>

        <footer class="mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500">
            <p>Made By Pramit.</p>
        </footer>
    </div>

    <script>
        // --- UI Elements ---
        const akrutiInput = document.getElementById('akrutiInput');
        const unicodeOutput = document.getElementById('unicodeOutput');

        // --- Core Decoding Logic ---
        // Mapping derived from common non-Unicode Odia fonts (like Aro/Akruti) to Odia Unicode.
        const AKRUTI_MAP = {
            // Vowels
            'é': 'ଅ', 'K': 'ଆ', 'M': 'ଇ', 'N': 'ଈ', 'O': 'ଉ', 'P': 'ଊ', 'Q': 'ଏ', 'R': 'ଐ', 'S': 'ଓ', 'T': 'ଔ',
            // Consonants
            'U': 'କ', 'V': 'ଖ', 'W': 'ଗ', 'X': 'ଘ', 'Y': 'ଙ',
            'Z': 'ଚ', 'l': 'ଛ', 'a': 'ଜ', 'b': 'ଝ', 'c': 'ଞ',
            'd': 'ଟ', 'e': 'ଠ', 'f': 'ଡ', 'g': 'ଢ', 'h': 'ଣ',
            'i': 'ତ', 'j': 'ଥ', 'k': 'ଦ', 'm': 'ଧ', 'o': 'ନ',
            'p': 'ପ', 'q': 'ଫ', 'r': 'ବ', 's': 'ଭ', 't': 'ମ',
            'u': 'ଯ', 'v': 'ର', 'w': 'ଲ', 'x': 'ଳ', 'y': 'ଵ', 'z': 'ଶ',
            'A': 'ଷ', 'B': 'ସ', 'C': 'ହ', 'D': 'କ୍ଷ',

            // Matras (Vowel Signs)
            'E': 'ା', 'F': 'ି', 'G': 'ୀ', 'H': 'ୁ', 'I': 'ୂ', 'J': 'େ', 'L': 'ୈ', 'ô': 'ୋ', 'õ': 'ୌ',
            // Common variations for matras
            '`': 'େ', // Often '`' is used for 'e' matra

            // Other Signs and Digits
            'À': 'ଽ', 'Á': 'ଃ', 'Â': 'ଂ', 'Ã': 'ଁ', 'ä': 'ଁ',
            '1': '୧', '2': '୨', '3': '୩', '4': '୪', '5': '୫', '6': '୬', '7': '୭', '8': '୮', '9': '୯', '0': '୦',
            '/': '।',
            '[': '୍', // Halanta/Virama (for half-letters/conjuncts)
            ';': '଼', // Rra phala (for ଡ଼ ଢ଼)

            // Common punctuation and symbols
            ',': ',', '.': '.', '-': '-', ' ': ' ',
            '!': '!', '?': '?', '(': '(', ')': ')',

            // Additional common character variations found in Akruti/Aro
            'V@': 'ଆ', // Sometimes 'V' (ଅ) followed by '@' is used to form 'ଆ'
            'j@': 'ଜ୍ଞ', // Common shortcut for JNYA
            'r@': 'ତ୍ର', // Common shortcut for TRA
        };

        /**
         * Decodes the Akruti-encoded text into Odia Unicode.
         */
        function decodeAkruti() {
            const akrutiText = akrutiInput.value;
            let unicodeText = '';
            
            // Handle two-character replacements first (like V@ -> ଆ)
            let tempText = akrutiText;
            for (const key in AKRUTI_MAP) {
                if (key.length > 1) {
                    // Use a global regular expression replacement for robustness
                    tempText = tempText.replace(new RegExp(key.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1"), 'g'), AKRUTI_MAP[key]);
                }
            }

            // Perform single-character replacement
            for (let i = 0; i < tempText.length; i++) {
                const char = tempText[i];
                if (AKRUTI_MAP.hasOwnProperty(char)) {
                    unicodeText += AKRUTI_MAP[char];
                } else {
                    // Keep unrecognized characters as they are (e.g., spaces, English letters, etc.)
                    unicodeText += char;
                }
            }

            unicodeOutput.value = unicodeText;
        }

        /**
         * Copies the decoded text to the clipboard.
         */
        function copyOutput() {
            const outputText = unicodeOutput.value;

            if (outputText.length === 0) {
                showMessage("Nothing to copy!", "Please decode some text first.");
                return;
            }

            // Copy logic using a reliable method for iframes
            try {
                unicodeOutput.select();
                document.execCommand('copy');
                showMessage("Copied!", "The Odia Unicode text has been copied to your clipboard.");
            } catch (err) {
                console.error('Failed to copy text: ', err);
                showMessage("Error", "Failed to copy text. Please try selecting and copying manually.");
            }
        }

        // --- Custom Message Box Implementation (replacing alert()) ---
        function showMessage(title, message) {
            // Create modal elements
            let modal = document.getElementById('customModal');
            if (!modal) {
                modal = document.createElement('div');
                modal.id = 'customModal';
                modal.className = 'fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center transition-opacity duration-300 ease-in-out opacity-0 pointer-events-none z-50';
                modal.innerHTML = `
                    <div class="bg-white p-6 rounded-lg shadow-2xl max-w-sm w-full transform scale-95 transition-transform duration-300">
                        <h3 id="modalTitle" class="text-xl font-bold mb-3 text-red-600"></h3>
                        <p id="modalMessage" class="text-gray-700 mb-4"></p>
                        <button onclick="closeModal()" class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition duration-150">
                            OK
                        </button>
                    </div>
                `;
                document.body.appendChild(modal);
            }

            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMessage').textContent = message;

            // Show modal with transition
            setTimeout(() => {
                modal.classList.remove('opacity-0', 'pointer-events-none');
                modal.querySelector('div').classList.remove('scale-95');
                modal.querySelector('div').classList.add('scale-100');
            }, 50);
        }

        function closeModal() {
            const modal = document.getElementById('customModal');
            if (modal) {
                // Hide modal with transition
                modal.querySelector('div').classList.remove('scale-100');
                modal.querySelector('div').classList.add('scale-95');
                modal.classList.add('opacity-0');
                modal.classList.add('pointer-events-none');
            }
        }
    </script>
</body>
  </html>
